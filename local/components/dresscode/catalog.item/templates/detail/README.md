# –°–∏—Å—Ç–µ–º–∞ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–π —Ç–æ–≤–∞—Ä–æ–≤ –¥–ª—è 1–°-–ë–∏—Ç—Ä–∏–∫—Å

## üéâ –°—Ç–∞—Ç—É—Å: –ì–û–¢–û–í–û –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ

–°–∏—Å—Ç–µ–º–∞ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–π —Ç–æ–≤–∞—Ä–æ–≤ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞. –ü–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ –≤—ã–±–∏—Ä–∞—Ç—å –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∫–æ–¥–∞.

## üìã –û–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞

### –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
- **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —à–∞–±–ª–æ–Ω**: –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞ —Ç–∏–ø–∞ "2–¢–†–ú0-–•.–£–•.–•" —Å –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏
- **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä**: –ö–ª–∏–∫ –ø–æ "–•" –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –≥—Ä—É–ø–ø—É –æ–ø—Ü–∏–π –¥–ª—è –≤—ã–±–æ—Ä–∞
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞**: –†–µ–∑—É–ª—å—Ç–∞—Ç —Ç–∏–ø–∞ "2–¢–†–ú0-–©1.–£1.RS" —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- **–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞**: –†–∞–±–æ—Ç–∞–µ—Ç —Å –ª—é–±—ã–º–∏ —Ç–æ–≤–∞—Ä–∞–º–∏ –±–ª–∞–≥–æ–¥–∞—Ä—è —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–º —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è–º

### –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã:
1. –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Ç–æ–≤–∞—Ä–∞ —Å–∏—Å—Ç–µ–º–∞ –∏—â–µ—Ç –∞—Ä—Ç–∏–∫—É–ª –≤ —Å–≤–æ–π—Å—Ç–≤–∞—Ö –∏–ª–∏ –Ω–∞–∑–≤–∞–Ω–∏–∏
2. –ó–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–π –∏–∑ JSON —Ñ–∞–π–ª–∞ `/all_products.json`
3. –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —à–∞–±–ª–æ–Ω —Å –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏
4. –ü—Ä–∏ –∫–ª–∏–∫–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≥—Ä—É–ø–ø—É –æ–ø—Ü–∏–π –¥–ª—è –≤—ã–±–æ—Ä–∞
5. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –≤—ã–±–æ—Ä–∞

## üóÇÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
local/components/dresscode/catalog.item/templates/detail/
‚îú‚îÄ‚îÄ template.php                    # –û—Å–Ω–æ–≤–Ω–æ–π PHP —à–∞–±–ª–æ–Ω
‚îú‚îÄ‚îÄ css/product-modifications.css   # –°—Ç–∏–ª–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
‚îî‚îÄ‚îÄ js/product-modifications.js     # JavaScript –ª–æ–≥–∏–∫–∞

local/templates/dresscode/components/bitrix/catalog/catalog/bitrix/catalog.element/.default/
‚îî‚îÄ‚îÄ js/product-modifications.js     # –î—É–±–ª–∏—Ä—É—é—â–∏–π JS —Ñ–∞–π–ª

all_products.json                    # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤
```

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
–§–∞–π–ª—ã —É–∂–µ –ø–æ–¥–∫–ª—é—á–µ–Ω—ã –≤ `template.php`:
```php
$this->addExternalCss($templateFolder . "/css/product-modifications.css");
$this->addExternalJS($templateFolder . "/js/product-modifications.js");
```

### 2. HTML —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
–í —à–∞–±–ª–æ–Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω –±–ª–æ–∫:
```html
<div class="product-modifications" style="display: none;">
    <h3>–í—ã–±–µ—Ä–∏—Ç–µ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—é —Ç–æ–≤–∞—Ä–∞:</h3>
    <div class="modification-template">
        <h4>–®–∞–±–ª–æ–Ω –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏:</h4>
        <div class="template-display" id="modification-template"></div>
    </div>
    <div class="modification-groups" id="modification-groups"></div>
</div>

<div class="modification-result-block" style="display: none;" id="result-block">
    <div class="modification-result-title">–í—ã–±—Ä–∞–Ω–Ω–∞—è –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è:</div>
    <div class="modification-result" id="modification-result"></div>
</div>
```

### 3. JavaScript –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
```javascript
var productMods = new ProductModifications({
    productSku: productSku,
    resultSelector: '#modification-result',
    modBlockSelector: '.product-modifications'
});
productMods.init();
```

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö JSON

```json
[
  {
    "sku": "2trm0",
    "template": [
      {"type": "modifier", "text": "2–¢–†–ú0-", "modId": null},
      {"type": "modifier", "text": "–•", "modId": 2203},
      {"type": "modifier", "text": ".–£", "modId": null},
      {"type": "modifier", "text": "–•", "modId": 2801},
      {"type": "modifier", "text": ".", "modId": null},
      {"type": "modifier", "text": "–•", "modId": 2205}
    ],
    "mods": [
      {
        "id": 2203,
        "title": "–¢–∏–ø –∫–æ—Ä–ø—É—Å–∞",
        "options": [
          {"id": 3393, "label": "—â–∏—Ç–æ–≤–æ–π, 96—Ö96—Ö53 –º–º, IP54"},
          {"id": 3394, "label": "—â–∏—Ç–æ–≤–æ–π, 96—Ö48—Ö100 –º–º, IP54"}
        ]
      }
    ]
  }
]
```

## üéØ –õ–æ–≥–∏–∫–∞ —Å–æ–∫—Ä–∞—â–µ–Ω–∏–π

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–∞–∑–≤–∞–Ω–∏–π –≥—Ä—É–ø–ø –∏ –æ–ø—Ü–∏–π:

- **–¢–∏–ø –∫–æ—Ä–ø—É—Å–∞**: –©1, –©2, –©3... (–ø–æ –ø–æ—Ä—è–¥–∫—É)
- **–¢–∏–ø –∏–Ω–¥–∏–∫–∞—Ü–∏–∏**: 1 (–∫—Ä–∞—Å–Ω—ã–µ), 2 (–∑–µ–ª–µ–Ω—ã–µ)
- **–¢–∏–ø –≤—ã—Ö–æ–¥–∞**: P (—Ä–µ–ª–µ), T (—Ç—Ä–∞–Ω–∑–∏—Å—Ç–æ—Ä)
- **–ü–∏—Ç–∞–Ω–∏–µ**: –ò–∑–≤–ª–µ–∫–∞–µ—Ç –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ (85, 24, 12)
- **–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å**: RS (RS-485), E (Ethernet), W (Wi-Fi)

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ–∑–¥–∞–Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ `test-modifications.html`:
```bash
# –ó–∞–ø—É—Å–∫ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞
php -S localhost:8080

# –û—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ
http://localhost:8080/test-modifications.html
```

## üîß –û—Ç–ª–∞–¥–∫–∞

–°–∏—Å—Ç–µ–º–∞ –≤–∫–ª—é—á–∞–µ—Ç –ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞:
- –ó–∞–≥—Ä—É–∑–∫–∞ JSON –¥–∞–Ω–Ω—ã—Ö
- –ü–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–∞ –ø–æ –∞—Ä—Ç–∏–∫—É–ª—É
- –û—Ç—Ä–∏—Å–æ–≤–∫–∞ —à–∞–±–ª–æ–Ω–∞ –∏ –≥—Ä—É–ø–ø
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–±–æ—Ä–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

## üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ç–æ–≤–∞—Ä–∞
1. –î–æ–±–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ `all_products.json`
2. –£–∫–∞–∑–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π `sku` —Ç–æ–≤–∞—Ä–∞
3. –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å `template` —Å –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞–º–∏
4. –û–ø–∏—Å–∞—Ç—å `mods` —Å –æ–ø—Ü–∏—è–º–∏ –≤—ã–±–æ—Ä–∞

### –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è —Å—Ç–∏–ª–µ–π
–í—Å–µ —Å—Ç–∏–ª–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ `css/product-modifications.css` –∏ –ª–µ–≥–∫–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è.

### –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏
–û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –≤ –∫–ª–∞—Å—Å–µ `ProductModifications` –≤ —Ñ–∞–π–ª–µ `js/product-modifications.js`.

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–æ—á–Ω—ã–π —Å–ø–∏—Å–æ–∫

- [x] PHP —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω
- [x] CSS —Ñ–∞–π–ª —Å–æ–∑–¥–∞–Ω –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω
- [x] JavaScript —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –æ—à–∏–±–æ–∫
- [x] JSON –¥–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
- [x] –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —à–∞–±–ª–æ–Ω –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
- [x] –ì—Ä—É–ø–ø—ã –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–π –æ—Ç–∫—Ä—ã–≤–∞—é—Ç—Å—è
- [x] –†–µ–∑—É–ª—å—Ç–∞—Ç —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- [x] –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É

## üöÄ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

–°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ. –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.
