var menuTimeouts={main:!1,section:!1,firstOpen:!1};$(document).on("ready",function(e){var s=$("#mainMenu"),n=$("#menuCatalogSection"),a=s.children(".eChild"),o=n.children(".menuSection"),d=0,t={click:{},mouseleave:{},mouseenter:{}},i={getViewport:function(){return d=void 0!==window.innerWidth?window.innerWidth:(void 0!==document.documentElement&&void 0!==document.documentElement.clientWidth&&0!=document.documentElement.clientWidth?document.documentElement:document.getElementsByTagName("body")[0]).clientWidth},sliceMainMenu:function(e=!0){1==e&&(s.find(".removed").each(function(e,t){t=$(t);s.append(t.removeClass("removed"))}),s.find(".removedItemsLink").remove());var n,t,o=s.width()-100,i=0;1024<d&&(a.each(function(e,t){t=$(t);i+=t.outerWidth(!0),o<i&&t.addClass("removed")}),0<(e=s.find(".removed")).length)&&(n=$("<ul/>").addClass("removedItemsList"),t=$("<li/>").addClass("removedItemsLink").append($("<a/>")),e.each(function(e,t){n.append($(t))}),s.append(t.append(n)),n.css({left:t.offset().left+"px"}))},clearAttributes:function(){(d<=1024?s.find(".drop"):s).removeAttr("style")}};t.click.openNested=function(e){if(i.getViewport()<=1024){var t=$(this),n=t.data("state");if(void 0===n||!1===n)return t.data("state",!0).addClass("opened"),e.preventDefault()}},t.click.closeNested=function(e){var t;i.getViewport()<=1024&&((t=$(this).parents(".opened")).data("state",!1).removeClass("opened"),t.find(".opened").removeClass("opened").data("state",!1),e.preventDefault(),e.stopimmediatepropagation())},t.click.toggleMenu=function(e){return s.slideToggle(),e.preventDefault()},t.mouseenter.mainMenuItems=function(e){var t;1024<d&&((t=$(this)).hasClass("removed")||(menuTimeouts.firstOpen=setTimeout(function(){if(t.is(":hover"))return clearTimeout(menuTimeouts.firstOpen),o.removeClass("activeDrop").find(".drop").hide(),a.removeClass("activeDrop").find(".drop").hide(),t.addClass("activeDrop").find(".drop").css("display","table"),clearTimeout(menuTimeouts.main)},300)))},t.mouseleave.mainMenuItems=function(e){var t;1024<d&&(t=$(this),menuTimeouts.main=setTimeout(function(){t.is(":hover")||t.removeClass("activeDrop").find(".drop").hide()},500))},t.mouseenter.button=function(e){var t;1024<d&&(t=$(this),menuTimeouts.firstOpen=setTimeout(function(){if(n.is(":hover"))return clearTimeout(menuTimeouts.firstOpen),o.removeClass("activeDrop").find(".drop").hide(),a.removeClass("activeDrop").find(".drop").hide(),t.addClass("activeDrop").find(".drop").css("display","table"),clearTimeout(menuTimeouts.section)},300))},t.mouseleave.button=function(e){var t;1024<d&&(t=$(this),menuTimeouts.section=setTimeout(function(){t.removeClass("activeDrop").find(".drop").hide()},500))},t.resize=function(e){i.getViewport(),i.sliceMainMenu(),i.clearAttributes()},i.getViewport(),i.sliceMainMenu(!1),i.clearAttributes(),$(document).on("click","#catalogSlideButton",t.click.toggleMenu),$(document).on("click","#mainMenu .allow-dropdown",t.click.openNested),$(document).on("click","#mainMenu .allow-dropdown .back",t.click.closeNested),$(document).on("mouseenter","#menuCatalogSection",t.mouseenter.button),$(document).on("mouseleave","#menuCatalogSection",t.mouseleave.button),$(document).on("mouseenter","#mainMenu .eChild",t.mouseenter.mainMenuItems),$(document).on("mouseleave","#mainMenu .eChild",t.mouseleave.mainMenuItems),$(window).on("resize",t.resize)});