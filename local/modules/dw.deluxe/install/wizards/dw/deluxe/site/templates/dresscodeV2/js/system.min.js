var timeOutID,intervalID,flushTimeout,lastAddCartText,skuLoading=!1,fastViewOpen=!1,fastViewStoresOpen=!1,priceVariantOpen=!1,specialBlockMoved=!1,basketProductsNow=!1,oSkuDropdownOpened=!1,dropDownListOpened=!1,loadingPictureControl=function(e,t){var a;void 0!==e&&""!=e&&((a=new Image).src=e,$(a).one("load",t).each(function(){this.complete&&$(this).load()}))},checkLazyItems=function(){var e=$(".lazy");$.each(e,function(){var e=$(this),t=e.data("lazy");void 0!==t&&""!=t&&loadingPictureControl(t,function(){e.attr("src",t)})})},changeAddCartButton=function(e){void 0!==e.CATEGORIES&&void 0!==e.CATEGORIES.READY&&($.each(e.CATEGORIES.READY,function(e,t){void 0!==t.PRODUCT_ID&&void 0!==(t=$('.addCart[data-id="'+t.PRODUCT_ID+'"]'))&&t.each(function(e,t){updateAddCartButton($(t))})}),basketProductsNow=e)},updateAddCartButton=function(e){var t=e.find("img");e.text(LANG.ADDED_CART_SMALL).attr("href",SITE_DIR+"personal/cart/").prepend(t.attr("src",TEMPLATE_PATH+"/images/added.svg")).addClass("added")},cartReload=function(){void 0===window.topCartTemplate&&(window.topCartTemplate="topCart"),void 0===window.wishListTemplate&&(window.wishListTemplate=".default"),void 0===window.compareTemplate&&(window.compareTemplate=".default"),$.get(ajaxPath+"?act=flushCart&topCartTemplate="+window.topCartTemplate+"&wishListTemplate="+window.wishListTemplate+"&compareTemplate="+window.compareTemplate,function(e){e=$(e).find(".dl");$("#flushTopCart").html(e.eq(0).html()),$("#flushFooterCart").html(e.eq(1).html()),$("#flushTopwishlist").html(e.eq(2).html()),$("#flushTopCompare").html(e.eq(3).html())})},formatPrice=($(function(){$(".questions-answers-list .question").click(function(){$(this).parents(".question-answer-wrap").toggleClass("active").find(".answer").slideToggle()}),$(".banner-animated").addClass("banner-image-load"),$(".tab-link").click(function(){var e,t;$(this).hasClass("active")||(e=$(this).parents(".tabs-wrap"),t=$(this).index(),$(this).addClass("active").siblings().removeClass("active"),$(".tab-content:eq("+t+")",e).addClass("active").siblings().removeClass("active"))}),$(".consultation-btn").click(function(){$(".callBack").click()}),0==$("#footerTabs .tab").size()?$("#footerTabs, #footerTabsCaption").remove():($("#footerTabsCaption .item").eq(0).find("a").addClass("selected"),$("#footerTabs .tab").eq(0).addClass("selected")),0==$("#infoTabs .tab").size()?$("#infoTabs, #infoTabsCaption").remove():($("#infoTabsCaption .item").eq(0).find("a").addClass("selected"),$("#infoTabs .tab").eq(0).addClass("selected"));var t=$("#upButton");$(window).on("ready scroll",function(e){0<(e.currentTarget.scrollY||$(window).scrollTop())?t.addClass("enb"):t.removeClass("enb")}),t.on("click",function(e){return $("html,body").animate({scrollTop:0},250),e.preventDefault()})}),$(window).on("ready",function(event){var $topMenuContainer=$("#mainMenuContainer"),$mainMenuStaticContainer=$("#mainMenuStaticContainer"),$body=$("body").removeClass("loading"),$window=$(window),$globalBlockContainer,$globalInformationBlock,$globalInformationBlockCntr,informBlockOffset,maxScrollHeight,gbScrollCtr,reCalcGbParams,moveBlockToContainer=($("div").is(".global-block-container")&&$("div").is(".global-information-block")&&$("div").is(".global-information-block-cn")&&(_topMenuNoFixed=!0,$globalBlockContainer=$body.find(".global-block-container"),$globalInformationBlock=$globalBlockContainer.find(".global-information-block"),$globalInformationBlockCntr=$globalInformationBlock.find(".global-information-block-cn"),$globalBlockContainer.css("min-height",$globalInformationBlock.height()),$globalInformationBlock.hasClass("no-fixed")||(informBlockOffset=$globalInformationBlock.offset(),maxScrollHeight=$globalBlockContainer.height()+informBlockOffset.top-($globalInformationBlockCntr.height()+24)),gbScrollCtr=function(e){var t=$(this).scrollTop();t>=informBlockOffset.top?(maxScrollHeight<=t?$globalInformationBlock.addClass("max-scroll"):$globalInformationBlock.removeClass("max-scroll"),$globalInformationBlock.addClass("fixed")):$globalInformationBlock.removeClass("fixed")},reCalcGbParams=function(){informBlockOffset=$globalInformationBlock.offset(),maxScrollHeight=$globalBlockContainer.height()+informBlockOffset.top-($globalInformationBlockCntr.height()+24)},$(window).on("scroll",gbScrollCtr),$(window).on("resize",reCalcGbParams)),function(e,t){e=$(e);return $(t).append(e),specialBlockMoved=!0}),setSpecialBlockPosition=function(){$("div").is("#specialBlock")&&($(window).width()<=1850?moveBlockToContainer("#specialBlock","#specialBlockMoveContainer"):!0===specialBlockMoved&&1600<$(window).width()&&moveBlockToContainer("#specialBlock","#promoBlock"))},getFastView=(setSpecialBlockPosition(),$(window).on("resize",setSpecialBlockPosition),function(e){var t=$(this).addClass("loading"),a=t.parents(".item"),o=t.data("id"),n=a.data("product-iblock-id");return o&&($.ajax({url:ajaxPath+"?act=getFastView&product_id="+o+"&product_iblock_id="+n+"&product_currency_id="+a.data("currency-id")+"&product_convert_currency="+a.data("convert-currency")+"&product_price_code="+a.data("price-code")+"&product_hide_measures="+a.data("hide-measure")+"&product_hide_not_available="+a.data("hide-not-available"),success:function(e){$("#appFastView").remove(),$body.append(e),t.removeClass("loading"),$(document).off("click","#appFastView .appFastViewExit"),$(document).off("click","#appFastView .appFastViewPictureCarouselItem"),$(document).off("click","#appFastView .appFastViewPictureCarouselLeftButton"),$(document).off("click","#appFastView .appFastViewPictureCarouselRightButton"),$(document).off("mousemove","#appFastView .appFastViewPictureSliderItemLink"),$(document).off("mouseover","#appFastView .appFastViewPictureSliderItemLink"),$(document).off("mouseleave","#appFastView .appFastViewPictureSliderItemLink"),initFastViewApp(),cartReload(),subscribeOnline()},cache:!1,async:!1}),fastViewOpen=!0),e.preventDefault()}),getStoresWindow=function(e){var t=$(this).addClass("loading"),a=t.data("id");return a&&$.getJSON(ajaxPath+"?act=getAvailableWindow&product_id="+a,function(e){void 0!==e.COMPONENT_DATA&&($("#fastViewStores").remove(),$body.append(e.COMPONENT_DATA),t.removeClass("loading"),fastViewStoresOpen=!0)}),e.preventDefault()},closeStoresWindow=function(e){return $("#fastViewStores").remove(),fastViewStoresOpen=!1,e.preventDefault()},getPricesWindow=function(e){var a=$(this).addClass("loading"),t=a.parents(".item"),o=a.data("id");return o&&$.get(ajaxPath+"?act=getPricesWindow&product_id="+o+"&product_price_code="+encodeURIComponent(t.data("price-code"))+"&product_currency="+encodeURIComponent(t.data("currency")),function(e){$("#appProductPriceVariant").remove(),a.removeClass("loading"),$body.append(e);var e=a.offset().left,t=a.offset().top;e+320>$(window).width()&&(e=$(window).width()-334),"Y"==a.data("fixed")?$("#appProductPriceVariant").css({left:e,top:t-$(window).scrollTop(),position:"fixed"}):$("#appProductPriceVariant").css({left:e,top:t}),priceVariantOpen=!0}),e.preventDefault()},closePricesWindow=function(e){return $("#appProductPriceVariant, .priceVariantStyles").remove(),priceVariantOpen=!1,e.preventDefault()},giftView=function(e,t){var a=e.find(".name"),o=a.find(".middle"),n=e.find(".picture"),i=e.find(".quickBuy").removeClass("disabled"),o=((o?(a.attr("href",t[0].PRODUCT.DETAIL_PAGE_URL),o):a.attr("href",t[0].PRODUCT.DETAIL_PAGE_URL)).html(t[0].PRODUCT.NAME),n.attr("href",t[0].PRODUCT.DETAIL_PAGE_URL),n.html($("<img/>").attr("src",t[0].PRODUCT.PICTURE)),n.append($("<span />",{class:"getFastView"}).data("id",t[0].PRODUCT.ID).data("productId",t[0].PRODUCT.ID).html(LANG.FAST_VIEW_PRODUCT_LABEL)),e.find(".addCart, .quickBuy, .addCompare").data("id",t[0].PRODUCT.ID).data("productId",t[0].PRODUCT.ID),t[0].PRODUCT.PRICE.DISCOUNT_PRICE?(e.find(".price").html(LANG.GIFT_PRICE_LABEL+" ").removeClass("getPricesWindow"),e.find(".price").append($("<s/>").addClass("discount").html(t[0].PRODUCT.PRICE.DISCOUNT_PRICE))):e.find(".price").html(LANG.REQUEST_PRICE_LABEL).removeClass("getPricesWindow"),e.find(".addCart")),a=(o.find("img").remove(),t[0].PRODUCT.PRICE.DISCOUNT_PRICE?o.hasClass("added")?o.removeClass("disabled").removeClass("requestPrice").html(o.data("cart-label")).prepend($("<img />").attr({src:TEMPLATE_PATH+"/images/added.svg",class:"icon"})):o.removeClass("disabled").removeClass("requestPrice").html(e.data("cart-label")).prepend($("<img />").attr({src:TEMPLATE_PATH+"/images/addGift.svg",class:"icon"})).attr("href","#"):(i.addClass("disabled"),o.addClass("disabled").addClass("requestPrice").html(LANG.REQUEST_PRICE_BUTTON_LABEL).prepend($("<img />").attr({src:TEMPLATE_PATH+"/images/request.svg",class:"icon"})).attr("href","#"),t[0].PRODUCT.CAN_BUY="N"),t[0].PRODUCT.PRICE.DISCOUNT_PRICE&&"Y"!=e.data("hide-measure")&&null!=t[0].PRODUCT.MEASURE&&""!=t[0].PRODUCT.MEASURE.SYMBOL_RUS&&e.find(".price").find(".discount").append($("<span/>").addClass("measure").html(" / "+t[0].PRODUCT.MEASURE.SYMBOL_RUS+" ")),e.find(".changeAvailable"));a.removeClass("getStoresWindow"),a.removeClass("outOfStock"),a.removeClass("onOrder"),a.removeClass("inStock"),a.removeAttr("href"),0<t[0].PRODUCT.CATALOG_QUANTITY?(1<t[0].PRODUCT.STORES_COUNT?a.html($("<span/>").html(LANG.CATALOG_AVAILABLE)).addClass("inStock").attr("href","#").addClass("getStoresWindow").data("id",t[0].PRODUCT.ID).data("productId",t[0].PRODUCT.ID):a.html(LANG.CATALOG_AVAILABLE).addClass("inStock"),a.prepend($("<img/>").addClass("icon").attr("src",TEMPLATE_PATH+"/images/inStock.svg"))):"Y"!=t[0].PRODUCT.CAN_BUY?(a.html(LANG.CATALOG_NO_AVAILABLE).addClass("outOfStock"),i.addClass("disabled"),o.addClass("disabled"),a.prepend($("<img/>").addClass("icon").attr("src",TEMPLATE_PATH+"/images/outOfStock.svg"))):(a.html(LANG.CATALOG_ON_ORDER).addClass("onOrder"),a.prepend($("<img/>").addClass("icon").attr("src",TEMPLATE_PATH+"/images/onOrder.svg")))},fastViewSku=function(e,a){var o,n,t=e.find(".appFastViewProductHeadingLink"),i=e.find(".picture"),r=e.find(".quickBuy").removeClass("disabled"),t=(t.attr("href",a[0].PRODUCT.DETAIL_PAGE_URL).html(a[0].PRODUCT.NAME),i.attr("href",a[0].PRODUCT.DETAIL_PAGE_URL),i.html($("<img/>").attr("src",a[0].PRODUCT.PICTURE)),e.find(".addCart, .quickBuy, .addCompare").data("id",a[0].PRODUCT.ID).attr("data-id",a[0].PRODUCT.ID),a[0].PRODUCT.PRICE.DISCOUNT_PRICE?e.find(".price").html($("<span />",{class:"priceVal"}).html(a[0].PRODUCT.PRICE.DISCOUNT_PRICE+" ")).removeClass("getPricesWindow"):(e.find(".price").html($("<span />",{class:"priceVal"}).html(LANG.REQUEST_PRICE_LABEL)).removeClass("getPricesWindow").removeAttr("href"),a[0].PRODUCT.CAN_BUY="N"),a[0].PRODUCT.RESULT_PROPERTIES&&e.find(".changeProperties").html(a[0].PRODUCT.RESULT_PROPERTIES),e.find(".addCart").removeClass("subscribe unSubscribe")),i=(t.find("img").remove(),(a[0].PRODUCT.PRICE.DISCOUNT_PRICE?t.removeClass("added").removeClass("disabled").removeClass("requestPrice").html(LANG.ADD_BASKET_DEFAULT_LABEL).prepend($("<img />").attr({src:TEMPLATE_PATH+"/images/incart.svg",class:"icon"})):(r.addClass("disabled"),t.removeClass("added").addClass("disabled").addClass("requestPrice").html(LANG.REQUEST_PRICE_BUTTON_LABEL).prepend($("<img />").attr({src:TEMPLATE_PATH+"/images/request.svg",class:"icon"})))).attr("href","#"),a[0].PRODUCT.PRICE.DISCOUNT_PRICE&&"Y"!=e.data("hide-measure")&&null!=a[0].PRODUCT.MEASURE&&""!=a[0].PRODUCT.MEASURE.SYMBOL_RUS&&e.find(".price").append($("<span/>").addClass("measure").html(" / "+a[0].PRODUCT.MEASURE.SYMBOL_RUS+" ")),0<a[0].PRODUCT.PRICE.RESULT_PRICE.DISCOUNT&&e.find(".price").append($("<span/>").addClass("oldPriceLabel").html(CATALOG_LANG.FAST_VIEW_OLD_PRICE_LABEL).append($("<s/>").addClass("discount").html(a[0].PRODUCT.PRICE.RESULT_PRICE.BASE_PRICE))),1<a[0].PRODUCT.COUNT_PRICES?e.find(".price").addClass("getPricesWindow").data("id",a[0].PRODUCT.ID).data("productId",a[0].PRODUCT.ID).prepend($("<span/>",{class:"priceIcon"})).attr("href","#"):e.find(".price").removeAttr("href").find(".priceIcon").remove(),e.find(".changeAvailable")),r=(i.removeClass("getStoresWindow"),i.removeClass("outOfStock"),i.removeClass("onOrder"),i.removeClass("inStock"),i.removeAttr("href"),0<a[0].PRODUCT.CATALOG_QUANTITY?(1<a[0].PRODUCT.STORES_COUNT?i.html($("<span/>").html(LANG.CATALOG_AVAILABLE)).addClass("inStock").attr("href","#").addClass("getStoresWindow").data("id",a[0].PRODUCT.ID).data("productId",a[0].PRODUCT.ID):i.html(LANG.CATALOG_AVAILABLE).addClass("inStock"),i.prepend($("<img/>").addClass("icon").attr("src",TEMPLATE_PATH+"/images/inStock.svg"))):"Y"!=a[0].PRODUCT.CAN_BUY?(i.html(LANG.CATALOG_NO_AVAILABLE).addClass("outOfStock"),r.addClass("disabled"),"Y"==a[0].PRODUCT.CATALOG_SUBSCRIBE&&a[0].PRODUCT.PRICE.DISCOUNT_PRICE?t.html(LANG.ADD_SUBSCRIBE_LABEL).prepend($("<img />").attr({src:TEMPLATE_PATH+"/images/subscribe.svg",class:"icon"})).attr("href","#").addClass("subscribe"):t.addClass("disabled"),i.prepend($("<img/>").addClass("icon").attr("src",TEMPLATE_PATH+"/images/outOfStock.svg"))):(i.html(LANG.CATALOG_ON_ORDER).addClass("onOrder"),i.prepend($("<img/>").addClass("icon").attr("src",TEMPLATE_PATH+"/images/onOrder.svg"))),void 0!==a[0].PRODUCT.PROPERTIES.CML2_ARTICLE&&(void 0!==a[0].PRODUCT.PROPERTIES.CML2_ARTICLE.VALUE&&""!=a[0].PRODUCT.PROPERTIES.CML2_ARTICLE.VALUE?e.find(".changeArticle").html(a[0].PRODUCT.PROPERTIES.CML2_ARTICLE.VALUE).parents(".article").removeClass("hidden"):e.find(".changeArticle").data("first-value")?e.find(".changeArticle").html(e.find(".changeArticle").data("first-value")):e.find(".changeArticle").parents(".article").addClass("hidden")),e.find(".appFastViewDescription")),i=r.find(".appFastViewDescriptionText"),i=(a[0].PRODUCT.PREVIEW_TEXT?(r.addClass("visible"),i.html(a[0].PRODUCT.PREVIEW_TEXT)):r.removeClass("visible"),e.find(".catalogQtyBlock .catalogQty"));i.removeAttr("data-extended-price").removeData("extended-price"),i.val(a[0].PRODUCT.BASKET_STEP).data("max-quantity",a[0].PRODUCT.CATALOG_QUANTITY).data("step",a[0].PRODUCT.BASKET_STEP).removeClass("error"),t.data("quantity",a[0].PRODUCT.BASKET_STEP),void 0!==a[0].PRODUCT.PRICE.EXTENDED_PRICES_JSON_DATA&&""!=a[0].PRODUCT.PRICE.EXTENDED_PRICES_JSON_DATA&&i.data("extended-price",a[0].PRODUCT.PRICE.EXTENDED_PRICES_JSON_DATA),"Y"==a[0].PRODUCT.CATALOG_QUANTITY_TRACE&&"N"==a[0].PRODUCT.CATALOG_CAN_BUY_ZERO?i.data("enable-trace","Y"):i.data("enable-trace","N"),a[0].PRODUCT.IMAGES&&(o=e.find(".appFastViewPictureSliderItems").css({left:0}),n=e.find(".appFastViewPictureCarouselItems").css({left:0}),o.empty(),n.empty(),$.each(a[0].PRODUCT.IMAGES,function(e,t){o.append($("<div />",{class:"appFastViewPictureSliderItem"}).append($("<div />",{class:"appFastViewPictureSliderItemLayout"}).append($("<a />",{class:"appFastViewPictureSliderItemLink",href:a[0].PRODUCT.DETAIL_PAGE_URL}).data("loupe-picture",t.SUPER_LARGE_PICTURE.src).append($("<img />",{class:"appFastViewPictureSliderItemPicture",src:t.LARGE_PICTURE.src}))))),n.append($("<div />",{class:"appFastViewPictureCarouselItem"}).append($("<a />",{class:"appFastViewPictureCarouselItemLink",href:"#"}).append($("<img />",{class:"appFastViewPictureCarouselItemPicture",src:t.SMALL_PICTURE.src}))))}),fastViewInitPictureSlider(),fastViewInitPictureCarousel())},selectSku=function(event){if(1==skuLoading)return!1;var _params="",_props="",_highload="",_product_width=200,_product_height=180,$_this=$(this),$_mProductContainer=$_this.parents(".item"),$_mProduct=$_this.parents(".sku"),$_parentProp=$_this.parents(".skuProperty"),$_propList=$_mProduct.find(".skuProperty"),$_clickedProp=$_this.parents(".skuPropertyValue"),_level=$_parentProp.data("level");$_this.parents(".skuPropertyList").find("li").removeClass("selected"),$_clickedProp.addClass("selected loading"),skuLoading=!0,null!=$_mProduct.data("product-width")&&(_product_width=$_mProduct.data("product-width")),null!=$_mProduct.data("product-height")&&(_product_height=$_mProduct.data("product-height")),$_propList.each(function(e,t){var t=$(t),a=t.find("li"),o=t.data("name"),n=!1;"Y"==t.data("highload")&&(_highload=_highload+o+";"),a.each(function(e,t){t=$(t);if(_props=_props+o+":"+t.data("value")+";",t.hasClass("selected"))return _params=_params+o+":"+t.data("value")+";",n=!0}),n||(_params=_params+o+":-forse;")}),$.getJSON(ajaxPath+"?act=selectSku&props="+encodeURIComponent(_props)+"&params="+encodeURIComponent(_params)+"&level="+_level+"&iblock_id="+$_mProduct.data("iblock-id")+"&prop_id="+$_mProduct.data("prop-id")+"&product_id="+$_mProduct.data("product-id")+"&highload="+encodeURIComponent(_highload)+"&product_width="+_product_width+"&product_height="+_product_height+"&product-change-prop="+$_mProduct.data("change-prop")+"&product-more-pictures="+$_mProduct.data("more-pictures")+"&price-code="+encodeURIComponent($_mProductContainer.data("price-code"))).done(function(http){var $namer,$nameMiddler,$elPicture,$changeFastBack,$quantity,$changeCart,discountPrice,$changeAvailable;$_propList.each(function(e,t){t=$(t);t.data("level")>_level&&t.find(".skuPropertyValue").removeClass("selected").addClass("disabled")}),$.each(http[1].PROPERTIES,function(e,o){$_propList.filter(function(){return $(this).data("name")==e}).find(".skuPropertyValue").each(function(e,t){var a=$(t);$.each(o,function(e,t){if(e==a.data("value")&&"D"!=t)return"Y"==t?a.addClass("selected").removeClass("disabled").trigger("click"):a.removeClass("disabled"),!1})})}),$_mProduct.data("cast-func")?eval($_mProduct.data("castFunc"))($_mProduct,http):($namer=$_mProduct.find(".name"),$nameMiddler=$namer.find(".middle"),$elPicture=$_mProduct.find(".picture"),$changeFastBack=$_mProduct.find(".quickBuy").removeClass("disabled"),$quantity=$_mProduct.find(".quantity"),($nameMiddler?($namer.attr("href",http[0].PRODUCT.DETAIL_PAGE_URL),$nameMiddler):$namer.attr("href",http[0].PRODUCT.DETAIL_PAGE_URL)).html(http[0].PRODUCT.NAME),$elPicture.attr("href",http[0].PRODUCT.DETAIL_PAGE_URL),$elPicture.html($("<img/>").attr("src",http[0].PRODUCT.PICTURE)),$elPicture.append($("<span />",{class:"getFastView"}).data("id",http[0].PRODUCT.ID).html(LANG.FAST_VIEW_PRODUCT_LABEL)),$_mProduct.find(".addCart, .quickBuy, .addCompare").data("id",http[0].PRODUCT.ID).attr("data-id",http[0].PRODUCT.ID),(http[0].PRODUCT.PRICE.DISCOUNT_PRICE?$_mProduct.find(".price").html(http[0].PRODUCT.PRICE.DISCOUNT_PRICE+" "):$_mProduct.find(".price").html(LANG.REQUEST_PRICE_LABEL)).removeClass("getPricesWindow"),$changeCart=$_mProduct.find(".addCart").removeClass("subscribe unSubscribe"),$changeCart.find("img").remove(),http[0].PRODUCT.PRICE.DISCOUNT_PRICE?$changeCart.removeClass("added").removeClass("disabled").removeClass("requestPrice").html($("<span/>").html(LANG.ADD_BASKET_DEFAULT_LABEL).prepend($("<img />").attr({src:TEMPLATE_PATH+"/images/incart.svg",class:"icon"}))).attr("href","#"):($changeFastBack.addClass("disabled"),$changeCart.removeClass("added").addClass("disabled").addClass("requestPrice").html($("<span/>").html(LANG.REQUEST_PRICE_BUTTON_LABEL).prepend($("<img />").attr({src:TEMPLATE_PATH+"/images/request.svg",class:"icon"}))).attr("href","#"),http[0].PRODUCT.CAN_BUY="N"),http[0].PRODUCT.PRICE.DISCOUNT_PRICE&&"Y"!=$_mProduct.data("hide-measure")&&null!=http[0].PRODUCT.MEASURE&&""!=http[0].PRODUCT.MEASURE.SYMBOL_RUS&&$_mProduct.find(".price").append($("<span/>").addClass("measure").html(" / "+http[0].PRODUCT.MEASURE.SYMBOL_RUS+" ")),discountPrice=0<http[0].PRODUCT.PRICE.RESULT_PRICE.DISCOUNT?http[0].PRODUCT.PRICE.RESULT_PRICE.BASE_PRICE:"",$_mProduct.find(".price").append($("<s/>").addClass("discount").html(discountPrice)),1<http[0].PRODUCT.COUNT_PRICES?$_mProduct.find(".price").addClass("getPricesWindow").data("id",http[0].PRODUCT.ID).data("productId",http[0].PRODUCT.ID).prepend($("<span/>",{class:"priceIcon"})).attr("href","#"):$_mProduct.find(".price").find(".priceIcon").remove(),$changeAvailable=$_mProduct.find(".changeAvailable"),$changeAvailable.removeClass("getStoresWindow"),$changeAvailable.removeClass("outOfStock"),$changeAvailable.removeClass("onOrder"),$changeAvailable.removeClass("inStock"),$changeAvailable.removeAttr("href"),0<http[0].PRODUCT.CATALOG_QUANTITY?(1<http[0].PRODUCT.STORES_COUNT?$changeAvailable.html($("<span/>").html(LANG.CATALOG_AVAILABLE)).addClass("inStock").attr("href","#").addClass("getStoresWindow").data("id",http[0].PRODUCT.ID).data("productId",http[0].PRODUCT.ID):$changeAvailable.html(LANG.CATALOG_AVAILABLE).addClass("inStock"),$changeAvailable.prepend($("<img/>").addClass("icon").attr("src",TEMPLATE_PATH+"/images/inStock.svg"))):"Y"!=http[0].PRODUCT.CAN_BUY?($changeAvailable.html(LANG.CATALOG_NO_AVAILABLE).addClass("outOfStock"),$changeFastBack.addClass("disabled"),"Y"==http[0].PRODUCT.CATALOG_SUBSCRIBE&&http[0].PRODUCT.PRICE.DISCOUNT_PRICE?$changeCart.html($("<span/>").html(LANG.ADD_SUBSCRIBE_LABEL).prepend($("<img />").attr({src:TEMPLATE_PATH+"/images/subscribe.svg",class:"icon"}))).attr("href","#").addClass("subscribe"):$changeCart.addClass("disabled"),$changeAvailable.prepend($("<img/>").addClass("icon").attr("src",TEMPLATE_PATH+"/images/outOfStock.svg"))):($changeAvailable.html(LANG.CATALOG_ON_ORDER).addClass("onOrder"),$changeAvailable.prepend($("<img/>").addClass("icon").attr("src",TEMPLATE_PATH+"/images/onOrder.svg"))),0<$quantity.length&&($quantity.parents(".addCartContainer").removeClass("viewed").find(".minus, .plus").removeClass("error"),$quantity.data({"enable-trace":"Y"==http[0].PRODUCT.CATALOG_QUANTITY_TRACE&&"N"==http[0].PRODUCT.CATALOG_CAN_BUY_ZERO?"Y":"N","max-quantity":http[0].PRODUCT.CATALOG_QUANTITY,step:http[0].PRODUCT.BASKET_STEP}),$quantity.val(http[0].PRODUCT.BASKET_STEP))),changeAddCartButton(basketProductsNow),subscribeOnline(),$_clickedProp.removeClass("loading"),skuLoading=!1}).fail(function(e,t,a){$_clickedProp.removeClass("loading"),skuLoading=!1,alert("Request Failed: "+t+", "+a)}),event.preventDefault()},addSubscribe=function(e){return $body=$("body"),$this=$(this),""!=(productId=$this.data("id"))?($this.addClass("loading"),$.getJSON(ajaxPath+"?act=addSubscribe&id="+productId+"&site_id="+SITE_ID,function(e){"Y"==e.SUCCESS?("undefined"!=typeof globalSettings&&void 0!==globalSettings.TEMPLATE_METRICA_SUBSCRIBE&&void 0!==globalSettings.TEMPLATE_METRICA_ID&&void 0!==window["yaCounter"+globalSettings.TEMPLATE_METRICA_ID]&&window["yaCounter"+globalSettings.TEMPLATE_METRICA_ID].reachGoal(globalSettings.TEMPLATE_METRICA_SUBSCRIBE),""!=e.SUBSCRIBE_FORM&&($body.append(e.SUBSCRIBE_FORM),$this.removeClass("loading"))):console.error(e)})):console.error("product id not found"),e.preventDefault()},unSubscribe=function(e){return $this=$(this),$thisImage=$this.find("img"),""!=(subscribeId=$this.data("subscribe-id"))?($this.addClass("loading"),$.getJSON(ajaxPath+"?act=unSubscribe&subscribeId="+subscribeId+"&site_id="+SITE_ID,function(e){"Y"==e.SUCCESS?$this.data("subscribe-id","").text(LANG.ADD_SUBSCRIBE_LABEL).prepend($thisImage.attr({src:TEMPLATE_PATH+"/images/subscribe.svg"})).removeClass("unSubscribe loading"):console.error(e)})):console.error("product id not found"),e.preventDefault()},addCart=function(e){var t,a,o,n=$(this),i=n.siblings(".quantityContainer").find(".quantity"),r=n.data("id"),s=n.data("quantity"),d=n.data("display-window"),l=n.data("refresh-page"),c=n.data("cart-label"),p=[];if(!n.hasClass("disabled")&&!n.hasClass("subscribe")){if("#"!==n.attr("href"))return!0;"undefined"!=typeof globalSettings&&void 0!==globalSettings.TEMPLATE_METRICA_ADD_CART&&void 0!==globalSettings.TEMPLATE_METRICA_ID&&void 0!==window["yaCounter"+globalSettings.TEMPLATE_METRICA_ID]&&window["yaCounter"+globalSettings.TEMPLATE_METRICA_ID].reachGoal(globalSettings.TEMPLATE_METRICA_ADD_CART),n.hasClass("multi")?""!=n.data("selector")&&"#"===n.attr("href")&&(n.addClass("loading").text(LANG.ADD_CART_LOADING),t=$(n.data("selector")).filter(":not(.disabled)"),a="",0<t.length?(t.each(function(e,t){t=$(t);""!=t.data("id")&&(p[e]=t.data("id"),""!=parseFloat(t.data("quantity")))&&(a+=t.data("id")+":"+parseFloat(t.data("quantity"))+";")}),""!=p?$.getJSON(ajaxPath+"?act=addCart&id="+p.join(";")+"&q="+a+"&multi=1&site_id="+SITE_ID,function(e){var t=n.find("img");n.text(LANG.ADDED_CART_SMALL).attr("href",SITE_DIR+"personal/cart/").prepend(t.attr("src",TEMPLATE_PATH+"/images/added.svg")).removeClass("loading").addClass("added"),cartReload()}):alert("error (5)")):alert("error(6)"),e.preventDefault()):0<parseInt(r,10)&&(n.addClass("loading"),0<i.length&&(s=parseFloat(i.val())),o={act:"addCart",id:r,site_id:SITE_ID},0<s&&(o.q=s),$.getJSON(ajaxPath,o).done(function(e){cartReload();(void 0===d||void 0!==d&&"Y"==d)&&void 0!==e.status&&1==e.status&&void 0!==e.window_component&&""!=e.window_component&&$body.append(e.window_component),LANG.BASKET_ADDED=void 0===c?LANG.BASKET_ADDED:c;e=n.find("img");$(".bwOpened").removeClass("bwOpened"),lastAddCartText=n.html(),n.removeClass("loading").addClass("added").addClass("bwOpened").html(LANG.BASKET_ADDED).prepend(e.attr("src",TEMPLATE_PATH+"/images/added.svg")).attr("href",SITE_DIR+"personal/cart/"),void 0!==l&&"Y"==l&&(document.location.reload(),window.scrollTo(0,0))}).fail(function(e,t,a){$.get(ajaxPath,o).done(function(e){console.log(e)}),n.removeClass("loading").addClass("error"),console.error("Request Failed: "+t+", "+a)}))}return e.preventDefault()},addCompare=function(e){var o=$(e.currentTarget),t=o.find("img"),a=o.data("id");if("#"==o.attr("href"))return 0<parseInt(a,10)&&!o.hasClass("added")&&(o.addClass("loading"),$.get(ajaxPath,{id:a,act:"addCompare"}).done(function(e){""!=e?(cartReload(),("Y"==o.data("no-label")?o.removeClass("loading").addClass("added"):o.removeClass("loading").addClass("added").html(LANG.ADD_COMPARE_ADDED).prepend(t)).attr("href",SITE_DIR+"compare/")):o.removeClass("loading").addClass("error")}).fail(function(e,t,a){o.removeClass("loading").addClass("error"),console.error("Request Failed: "+t+", "+a)})),e.preventDefault()},addWishlist=function(e){var o=$(e.currentTarget),t=o.find("img"),a=o.data("id");if("#"==o.attr("href"))return 0<parseInt(a,10)&&!o.hasClass("added")&&(o.addClass("loading"),$.get(ajaxPath,{id:a,act:"addWishlist"}).done(function(e){""!=e?(cartReload(),("Y"==o.data("no-label")?o.removeClass("loading").addClass("added"):o.removeClass("loading").addClass("added").html(LANG.WISHLIST_ADDED).prepend(t)).attr("href",SITE_DIR+"wishlist/")):o.removeClass("loading").addClass("error")}).fail(function(e,t,a){o.removeClass("loading").addClass("error"),console.error("Request Failed: "+t+", "+a)})),e.preventDefault()},removeFromWishlist=function(e){var o=$(this),t=$("#wishlist"),a=$(this).parents(".item"),n=o.data("id");return o.addClass("loading"),$.get(ajaxPath,{id:n,act:"removeWishlist"}).done(function(e){""!=e?1==t.find(".product, .itemRow").length?window.location.reload():(reloadCart=cartReload(),a.remove()):o.removeClass("loading").addClass("error")}).fail(function(e,t,a){o.removeClass("loading").addClass("error"),console.error("Request Failed: "+t+", "+a)}),e.preventDefault()},slideCollapsedBlock=function(e){var t=$("#left").children(".collapsed");if(!t.is(":visible")||t.hasClass("toggled"))return t.stop().slideToggle().addClass("toggled"),e.preventDefault()},openSmartFiler=function(e){$smartFilterForm=$("#smartFilterForm"),1024<$(window).width()&&($smartFilterForm.is(":visible")?$smartFilterForm.stop().slideUp("fast"):$smartFilterForm.stop().slideDown("fast"))},openSmartSections=function(e){($smartSections=$("#nextSection ul")).is(":visible")?$smartSections.stop().slideUp("fast"):$smartSections.stop().slideDown("fast")},formatPrice=function(e){for(var t=String(e).split("."),a=t[0].length,o="",n=a;0<n;n--)o+=(n%3?"":" ")+t[0][a-n];return o+(null!=t[1]?"."+t[1]:"")},catalogReCalcPrice=function(e,a){var o,n,i,r,t;0<a&&(t=e.parents(".item").find(".price"),0<(o=t.find(".priceVal")).length&&(n=o.html().replace(/\d\.\d/g,"").replace(/[0-9]/g,"")),0<(i=t.find(".discount")).length&&(r=i.html().replace(/\d\.\d/g,"").replace(/[0-9]/g,"")),"object"==typeof(t=void 0!==(t=e.data("extended-price"))&&"string"==typeof t?$.parseJSON(t):t))&&$.each(t,function(e,t){null==t.QUANTITY_FROM&&null==t.QUANTITY_TO||(null==t.QUANTITY_FROM||""!=t.QUANTITY_FROM&&a>=t.QUANTITY_FROM)&&(null==t.QUANTITY_TO||""!=t.QUANTITY_TO&&a<=t.QUANTITY_TO)&&(void 0!==t.DISCOUNT_PRICE&&o.html(formatPrice(Number(t.DISCOUNT_PRICE).toFixed(0))+n),void 0!==t.OLD_PRICE)&&i.html(formatPrice(Number(t.OLD_PRICE).toFixed(0))+r)})},catalogAddCartPlus=function(e){var t=$(this),a=t.siblings(".catalogQtyBlock .catalogQty"),t=t.parent().siblings(".addCart"),o=Number(a.val()),n=Number(a.data("step")),o=Number((10*o+10*n)/10),n=a.data("enable-trace"),i=Number(a.data("max-quantity")),r=!1;return"Y"==n&&o!=(o=i<o?i:o)&&(r=!0),a.val(o),t.data("quantity",o),catalogReCalcPrice(a,o),!0===r?a.addClass("error"):a.removeClass("error"),e.preventDefault()},catalogAddCartMinus=function(e){var t=$(this),a=t.siblings(".catalogQtyBlock .catalogQty"),t=t.parent().siblings(".addCart"),o=Number(a.val()),n=Number(a.data("step")),o=Number((10*o-10*n)/10),i=a.data("enable-trace"),r=Number(a.data("max-quantity")),s=!1,o=n<o?o:n;return"Y"==i&&o!=(o=r<o?r:o)&&(s=!0),a.val(o),t.data("quantity",o),catalogReCalcPrice(a,o),!0===s?a.addClass("error"):a.removeClass("error"),e.preventDefault()},catalogAddCartChange=function(e){var t=$(this),a=t.parent().siblings(".addCart"),o=t.val(),n=Number(t.data("step")),i=t.data("enable-trace"),r=Number(t.data("max-quantity")),s=!1,o=o.replace(/[^\d.]/gi,"")!=o?n:Number(o);xQtyExpression=Math.ceil(o/n)*n,"Y"==i&&xQtyExpression!=(xQtyExpression=xQtyExpression>r?r:xQtyExpression)&&(s=!0),t.val(xQtyExpression),a.data("quantity",xQtyExpression),catalogReCalcPrice($qtyBox,xQtyExpression),!0===s?t.addClass("error"):t.removeClass("error")},closeElementsAfterClick=function(e){!0===fastViewOpen&&($("#appFastView").remove(),fastViewOpen=!1),!0===fastViewStoresOpen&&($("#fastViewStores").remove(),fastViewStoresOpen=!1),!0===priceVariantOpen&&($("#appProductPriceVariant").remove(),priceVariantOpen=!1)},openSkuDropDown=($(document).on("click","#footerTabsCaption .item",function(e){return $(this).find("a").addClass("selected"),$(this).siblings(".item").find("a").removeClass("selected"),$("#footerTabs").find(".tab").hide().eq($(this).index()).show(),e.stopImmediatePropagation(),e.preventDefault()}),$(document).on("click","#infoTabsCaption .item",function(e){return $(this).find("a").addClass("selected"),$(this).siblings(".item").find("a").removeClass("selected"),$("#infoTabs").find(".tab").hide().eq($(this).index()).show(),e.preventDefault()}),$(".label-class").on("click",function(){var e=$(this),t=e.attr("for"),e=e.parents("form").find("."+t);return(e.prop("checked")?e.prop("checked",!1):e.prop("checked","checked")).focus(),event.preventDefault()}),$(".label-for").on("click",function(){var e=$(this),t=e.data("for"),e=e.parents("form").find("."+t);return(e.prop("checked")?e.prop("checked",!1):e.prop("checked","checked")).focus(),event.preventDefault()}),function(e){var t=$(this).siblings(".oSkuDropdownList");return t.toggleClass("opened"),oSkuDropdownOpened=t.hasClass("opened"),e.preventDefault()}),selectSkuDropDownValue=function(e){var t=$(this),a=t.parents(".oSkuDropdownList"),o=(a.find(".oSkuDropdownListItem").removeClass("selected"),a.siblings(".oSkuCheckedItem"));return o.hasClass("noHideChecked")||(a.removeClass("opened"),oSkuDropdownOpened=!1),t.addClass("selected"),o.html(t.text()),e.preventDefault()},closeSkuDropDown=function(e){oSkuDropdownOpened&&void 0===e.isTrigger&&($(".oSkuDropdownList").removeClass("opened"),oSkuDropdownOpened=!1)},scrollUnbind,topMenuFixed,menuStartOffset,menuStartHeight,menuStartbackground,calcPosFixTopMenu,scrollFixTopMenu,toggleMobileTabs=(0<$topMenuContainer.length&&$topMenuContainer.hasClass("auto-fixed")&&(scrollUnbind=!1,topMenuFixed=!1,menuStartOffset=0,menuStartHeight=0,menuStartbackground=0,"undefined"==typeof _topMenuNoFixed)&&(calcPosFixTopMenu=function(e){$topMenuContainer.removeClass("fixed"),$mainMenuStaticContainer.css("height","auto"),menuStartOffset=$topMenuContainer.offset().top,menuStartHeight=$topMenuContainer.height(),menuStartbackground=$topMenuContainer.css("background-color"),topMenuFixed=!1,$window.width()<=1024?($window.off("scroll",scrollFixTopMenu),scrollUnbind=!0):(scrollUnbind&&($window.on("scroll",scrollFixTopMenu),scrollUnbind=!1),scrollFixTopMenu())},scrollFixTopMenu=function(e){e=void 0!==e?e.currentTarget.scrollY:$window.scrollTop();menuStartOffset<=e?topMenuFixed||($topMenuContainer.addClass("fixed"),$mainMenuStaticContainer.css("height",$topMenuContainer.height()+"px"),$mainMenuStaticContainer.css("background-color",menuStartbackground),topMenuFixed=!0):($topMenuContainer.removeClass("fixed"),topMenuFixed=!1)},$window.on("resize",calcPosFixTopMenu),$window.on("scroll",scrollFixTopMenu),calcPosFixTopMenu()),function(e){var t=$(this);if(!t.hasClass("noTabs")&&$(window).innerWidth()<=1024)return t.toggleClass("active"),t.siblings("ul, .tab").toggle(200),e.preventDefault()}),productQuantityPlus=function(e){var t=$(this),a=t.parents(".quantityContainer"),o=a.find(".quantity"),n={max:o.data("max-quantity"),step:o.data("step"),value:o.val()};return $.each(n,function(e,t){n[e]=parseFloat(t)}),n.trace=o.data("enable-trace"),a.find(".minus, .plus").removeClass("error"),"Y"==n.trace&&n.value<n.max||"N"==n.trace?(n.total=n.value+n.step,o.val(+n.total.toFixed(5))):t.addClass("error"),e.preventDefault()},productQuantityMinus=function(e){var t=$(this).parents(".quantityContainer"),a=t.find(".quantity"),o={step:a.data("step"),value:a.val()};return $.each(o,function(e,t){o[e]=parseFloat(t)}),t.find(".minus, .plus").removeClass("error"),o.total=o.value-o.step,o.total=o.total<o.step?o.step:o.total,a.val(+o.total.toFixed(5)),e.preventDefault()},productQuantityKeypress=function(e){if(-1===[44,46,48,49,50,51,52,53,54,55,56,57].indexOf(e.which))return e.preventDefault()},productQuantityChange=function(e){var t=$(this),a=t.parents(".quantityContainer"),o={max:t.data("max-quantity"),step:t.data("step"),value:t.val()},n=($.each(o,function(e,t){o[e]=parseFloat(t)}),o.trace=t.data("enable-trace"),+(o.value/o.step).toFixed(5));return a.find(".minus, .plus").removeClass("error"),"Y"==o.trace&&o.value>o.max||"N"==o.trace?o.value=o.max:isNaN(o.value)||o.value<o.step?o.value=o.step:(0^n)!=n&&(o.value=Math.ceil(o.value/o.step)*o.step),t.val(+o.value.toFixed(5)),e.preventDefault()},productQuantityFocus=function(e){$(this).parents(".addCartContainer").addClass("viewed")},openDropDownList=function(e){var t=$(this).siblings(".dropDownItems");t.find(".dropDownItem");return t.hasClass("opened")?closeDropDownList():(t.addClass("opened"),dropDownListOpened=!0),e.preventDefault()},selectDropDown=function(e){var t=$(this),a=t.parents(".dropDownList"),o=a.find(".dropDownItem"),n=a.find(".dropDownSelected"),i=t.hasClass("selected");return o.removeClass("selected"),t.addClass("selected"),n.html(t.html()),a.find(".dropDownItems").removeClass("opened"),dropDownListOpened=!1,0==i&&a.trigger("change"),e.preventDefault()},closeDropDownList=function(){!0===dropDownListOpened&&($(".dropDownItems").removeClass("opened"),dropDownListOpened=!1)};let handleGetUserAgreement=async function(e){e.preventDefault();try{var t=new URL(ajaxPath,window.location.origin),a=(t.searchParams.append("action","getUserAgreement"),t.searchParams.append("siteId",SITE_ID),t.searchParams.append("languageId",LANGUAGE_ID),new Request(t,{method:"GET"}));await componentLoader.load(a)}catch(e){console.error(e.message,e.reasons?.join("\n"))}},handleGetRequestPriceForm=async function(e){e.preventDefault();e=e.currentTarget.dataset.id;if(e)try{var t=new URL(ajaxPath,window.location.origin),a=(t.searchParams.append("action","getRequestPriceForm"),t.searchParams.append("productId",e),t.searchParams.append("siteId",SITE_ID),t.searchParams.append("languageId",LANGUAGE_ID),new Request(t,{method:"GET"}));await componentLoader.load(a)}catch(e){console.error(e.message,e.reasons?.join("\n"))}else console.error("Cannot find product ID from `data-id` attribute")},handleProductGetQuickBuyForm=async function(e){e.preventDefault();var e=e.currentTarget,t=e.dataset.id;if(!e.classList.contains("disabled"))if(t)try{var a=new URL(ajaxPath,window.location.origin),o=(a.searchParams.append("action","getProductQuickBuyForm"),a.searchParams.append("productId",t),a.searchParams.append("siteId",SITE_ID),a.searchParams.append("languageId",LANGUAGE_ID),new Request(a,{method:"GET"}));await componentLoader.load(o)}catch(e){console.error(e.message,e.reasons?.join("\n"))}else console.error("Cannot find product ID from `data-id` attribute")};checkLazyItems(),$(document).on("click",".dropDownList .dropDownSelected",openDropDownList),$(document).on("click",".dropDownList .dropDownItem",selectDropDown),$(document).on("click",".dropDownList",function(e){e.stopImmediatePropagation()}),$(document).on("click",closeDropDownList),$(document).on("click",".oSkuDropDownProperty .oSkuCheckedItem",openSkuDropDown),$(document).on("click",".oSkuDropDownProperty .oSkuDropdownListItem",selectSkuDropDownValue),$(document).on("click",".oSkuDropdown",function(e){e.stopImmediatePropagation()}),$(document).on("click",closeSkuDropDown),$(document).on("click",".catalogQtyBlock .catalogPlus",catalogAddCartPlus),$(document).on("click",".catalogQtyBlock .catalogMinus",catalogAddCartMinus),$(document).on("change",".catalogQtyBlock .catalogQty",catalogAddCartChange),$(document).on("click",".skuPropertyLink",selectSku),$(document).on("click",".subscribe:not(.unSubscribe)",addSubscribe),$(document).on("click",".unSubscribe",unSubscribe),$(document).on("click",".addCart, .add-cart",addCart),$(document).on("click","#footer .heading",toggleMobileTabs),$(document).on("click",".addWishlist",addWishlist),$(document).on("click",".addCompare",addCompare),$(document).on("click",".removeFromWishlist",removeFromWishlist),$(document).on("click","#fastViewStores .fastViewStoresExit",closeStoresWindow),$(document).on("click",".getStoresWindow",getStoresWindow),$(document).on("click","#appProductPriceVariant .appPriceVariantExit",closePricesWindow),$(document).on("click",".getPricesWindow",getPricesWindow),$(document).on("click","#catalogMenuHeading",slideCollapsedBlock),$(document).on("click","#smartFilter .heading",openSmartFiler),$(document).on("click","#nextSection .title",openSmartSections),$(document).on("click",".getFastView",getFastView),$(document).on("keypress",".quantityContainer .quantity",productQuantityKeypress),$(document).on("change",".quantityContainer .quantity",productQuantityChange),$(document).on("focus",".quantityContainer .quantity",productQuantityFocus),$(document).on("click",".quantityContainer .minus",productQuantityMinus),$(document).on("click",".quantityContainer .plus",productQuantityPlus),$(document).on("click",".quickBuy",handleProductGetQuickBuyForm),$(document).on("click",".requestPrice",handleGetRequestPriceForm),$(document).on("click",".userAgreement",handleGetUserAgreement),$(document).on("click",".appFastViewContainer, #fastViewStores .fastViewStoresContainer, #appProductPriceVariant, .getFastView, .getPricesWindow, .addCart",function(e){return e.stopImmediatePropagation()}),$(document).on("click",closeElementsAfterClick),$(document).ajaxError(function(e,t,a){console.error("Error requesting page "+a.url)})}),function(e){for(var t=String(e).split("."),a=t[0].length,o="",n=a;0<n;n--)o+=(n%3?"":" ")+t[0][a-n];return o+(null!=t[1]?"."+t[1]:"")});function validateEmail(e){return/^([\w-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/.test(e)}