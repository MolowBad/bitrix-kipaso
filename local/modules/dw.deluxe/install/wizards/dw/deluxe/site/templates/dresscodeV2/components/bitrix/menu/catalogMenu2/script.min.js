var menuTimeouts={main:!1,section:!1,firstOpen:!1};$(document).on("ready",function(e){var d=$("#mainMenu"),n=$("#menuCatalogSection"),a=d.children(".eChild"),t=n.children(".menuSection"),s=0,n={click:{},mouseleave:{},mouseenter:{}},i={getViewport:function(){return s=void 0!==window.innerWidth?window.innerWidth:(void 0!==document.documentElement&&void 0!==document.documentElement.clientWidth&&0!=document.documentElement.clientWidth?document.documentElement:document.getElementsByTagName("body")[0]).clientWidth},sliceMainMenu:function(e=!0){1==e&&(d.find(".removed").each(function(e,n){n=$(n);d.append(n.removeClass("removed"))}),d.find(".removedItemsLink").remove());var t,n,i=d.width()-100,o=0;1024<s&&(a.each(function(e,n){n=$(n);o+=n.outerWidth(!0),i<o&&n.addClass("removed")}),0<(e=d.find(".removed")).length)&&(t=$("<ul/>").addClass("removedItemsList"),n=$("<li/>").addClass("removedItemsLink").append($("<a/>")),e.each(function(e,n){t.append($(n))}),d.append(n.append(t)),t.css({left:n.offset().left+"px"}))},clearAttributes:function(){s<=1024&&d.find(".drop").removeAttr("style")}};n.click.openNested=function(e){if(i.getViewport()<=1024){var n=$(this),t=n.data("state");if(void 0===t||!1===t)return n.data("state",!0).addClass("opened"),e.preventDefault()}},n.click.closeNested=function(e){var n;i.getViewport()<=1024&&((n=$(this).parents(".opened")).data("state",!1).removeClass("opened"),n.find(".opened").removeClass("opened").data("state",!1),e.preventDefault(),e.stopimmediatepropagation())},n.click.toggleMenu=function(e){return d.slideToggle(),e.preventDefault()},n.mouseenter.mainMenuItems=function(e){var n;1024<s&&((n=$(this)).hasClass("removed")||(menuTimeouts.firstOpen=setTimeout(function(){if(n.is(":hover"))return clearTimeout(menuTimeouts.firstOpen),t.removeClass("activeDrop").find(".drop").hide(),a.removeClass("activeDrop").find(".drop").hide(),n.addClass("activeDrop").find(".drop").css("display","table"),clearTimeout(menuTimeouts.main)},300)))},n.mouseleave.mainMenuItems=function(e){var n;1024<s&&(n=$(this),menuTimeouts.main=setTimeout(function(){n.is(":hover")||n.removeClass("activeDrop").find(".drop").hide()},500))},n.resize=function(e){i.getViewport(),i.sliceMainMenu(),i.clearAttributes()},i.getViewport(),i.sliceMainMenu(!1),i.clearAttributes(),$(document).on("click","#catalogSlideButton",n.click.toggleMenu),$(document).on("click","#mainMenu .allow-dropdown",n.click.openNested),$(document).on("click","#mainMenu .allow-dropdown .back",n.click.closeNested),$(document).on("mouseenter","#mainMenu .eChild",n.mouseenter.mainMenuItems),$(document).on("mouseleave","#mainMenu .eChild",n.mouseleave.mainMenuItems),$(window).on("resize",n.resize)});