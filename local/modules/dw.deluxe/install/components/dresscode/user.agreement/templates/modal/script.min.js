class DwUserAgreement{#options;#element=null;#closeButtons=[];constructor(e={}){this.#options={selector:".user-agreement",closeButtonSelector:".user-agreement__close-button",contentSelector:".user-agreement__inner-proxy",...e}}mount(){if(this.#element=document.querySelector(this.#options.selector),!this.#element)throw new Error(`Cannot find element with selector "${this.#options.selector}"`);this.#closeButtons=this.#element.querySelectorAll(this.#options.closeButtonSelector),0===this.#closeButtons.length&&console.warn(`No close buttons found with selector "${this.#options.closeButtonSelector}"`),this.#bindEvents()}unmount(){this.#element&&(this.#unbindEvents(),this.#element.parentNode&&this.#element.parentNode.removeChild(this.#element),this.#element=null,this.#closeButtons=[])}#bindEvents(){this.#closeButtons.forEach(e=>{e.addEventListener("click",this.#handleClose)}),document.addEventListener("keydown",this.#handleEscapeKey),this.#element.addEventListener("click",this.#handleOutsideClick)}#unbindEvents(){this.#closeButtons.forEach(e=>{e.removeEventListener("click",this.#handleClose)}),document.removeEventListener("keydown",this.#handleEscapeKey),this.#element.removeEventListener("click",this.#handleOutsideClick)}#handleClose=e=>{e.preventDefault(),this.unmount()};#handleEscapeKey=e=>{"Escape"===e.key&&this.#handleClose(e)};#handleOutsideClick=e=>{var t=this.#element.querySelector(this.#options.contentSelector);if(!t)throw new Error(`Cannot find content element with selector "${this.#options.contentSelector}"`);t.contains(e.target)||this.#handleClose(e)}}